<!DOCTYPE html>
<html lang="ru">
<head>
<!-- 2025-12-23 Tue 20:13 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Техническая аномалия Plants vs Zombies</title>
<meta name="generator" content="Org Mode" />
</head>
<body>
<div id="content" class="content">
<p>
В универе я играла в игру <b>Plants vs. Zombies</b>, до того, как ее съел капитализм. Игровое поле выглядит вот так:<br>
</p>


<figure id="orgec1b83d">
<img src="../attachment/images/plantsvszombies.png" alt="plantsvszombies.png"><br>

</figure>

<p>
На телефоне было нормально, а моем тогдашнем планшете игра работала странно. Судя по всему, она не смогла понять, какое у меня разрешение экрана, и у меня поехала верстка. Выравнивать верстку игрового интерфейса для разных разрешений экрана это всегда боль, и мой случай показал, что случается, если сделать это неправильно – разные элементы интерфейса наезжали друг на друга, некоторые были спрятаны полностью, скролл менюшек работал не полноценно. Это было неудобно, но в целом все, что мне было нужно, было доступно, и игра была играбельной.<br>
Но вот в чем странность. На скриншоте вы можете увидеть слева игрового поля газонокосилки. Это “право на ошибку” – как только зомби доходит до крайнего левого тайла, она включается и убивает всех зомби на этой дорожке. Работает только один раз – если ты позволишь второму зомби дойти до края, он тебя все-таки съедает.<br>
</p>

<p>
На моем планшете с поехавшей версткой газонокосилки находились там, где проведена красная линия:<br>
</p>


<figure id="orgdc33fa9">
<img src="../attachment/images/plantsvszombies2.png" alt="plantsvszombies2.png"><br>

</figure>

<p>
И, да – это был не просто визуальный глюк. Газонокосилки на самом деле включались и срабатывали, как только зомби доходил до второго слева тайла, до того, как он съедал два растения на крайних левых тайлах!<br>
Мне очень интересно, как это запрограммировали, и почему было запрограммировано именно так. Что элементы интерфейса расположены по-разному на разных экранах – это нормально, но почему расположение газонокосилок определено относительно экрана, а не относительно игрового поля, на котором они находятся? И почему триггер срабатывания газонокосилки повязан не на расположение зомби относительно поля, а на коллайдер газонокосилки (видимо&#x2026;)? И почему вообще игровые менюшки и объекты в игровом мире находятся на одном слое и могут триггерить друг друга? Если бы в каком-нибудь Unity или Godot я хотела настроить общую физику между камера-спейс интерфейсом и ворлд-спейс объектами, это была бы нетривиальная задача, которую надо специально вписывать – но тут оно появилось в виде бага?<br>
Подобные решения часто называют “костылем”, но тут подходящая метафора это роботизированное инвалидное кресло Стивена Хокинга. Если у кого-нибудь есть объяснения, почему так получилось, которые не выглядели бы к месту в романе про Плоский Мир, я была бы рада их услышать.<br>
</p>


<figure id="org4500c73">
<img src="../attachment/images/charcoalupsidedown.png" alt="charcoalupsidedown.png"><br>

</figure>
</div>
</body>
</html>
